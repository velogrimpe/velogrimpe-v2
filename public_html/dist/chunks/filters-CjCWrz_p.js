import{d as S}from"./pinia-rBBmLonr.js";import{r as N,f as i,l as A}from"./runtime-dom.esm-bundler-CJEmteaZ.js";const o={exposition:[],cotations:[],typeVoies:{couenne:!1,grandeVoie:!1,bloc:!1,psychobloc:!1},nbVoiesMin:0,villeId:null,train:{tempsMax:null,correspMax:null,terOnly:!1},velo:{tempsMax:null,distMax:null,denivMax:null,apiedPossible:!1},approche:{tempsMax:null},total:{tempsTV:null,tempsTVA:null}},C=S("filters",()=>{const t=N(JSON.parse(JSON.stringify(o))),n=i(()=>{const e=t.value;return e.exposition.length>0||e.cotations.length>0||e.typeVoies.couenne||e.typeVoies.grandeVoie||e.typeVoies.bloc||e.typeVoies.psychobloc||e.nbVoiesMin>0||e.villeId!==null||e.velo.tempsMax!==null||e.velo.distMax!==null||e.velo.denivMax!==null||e.velo.apiedPossible||e.approche.tempsMax!==null}),s=i(()=>t.value.villeId!==null);function a(e){t.value.exposition=e}function u(e){const l=t.value.exposition.indexOf(e);l===-1?t.value.exposition.push(e):t.value.exposition.splice(l,1)}function p(e){t.value.cotations=e}function r(e){const l=t.value.cotations.indexOf(e);l===-1?t.value.cotations.push(e):t.value.cotations.splice(l,1)}function c(e,l){t.value.typeVoies[e]=l}function v(e){t.value.nbVoiesMin=e}function f(e){t.value.villeId=e,e===null&&(t.value.train={...o.train},t.value.total={...o.total})}function x(e){t.value.train.tempsMax=e}function d(e){t.value.train.correspMax=e}function M(e){t.value.train.terOnly=e}function V(e){t.value.velo.tempsMax=e}function m(e){t.value.velo.distMax=e}function T(e){t.value.velo.denivMax=e}function y(e){t.value.velo.apiedPossible=e}function h(e){t.value.approche.tempsMax=e}function b(e){t.value.total.tempsTV=e}function g(e){t.value.total.tempsTVA=e}function O(){t.value=JSON.parse(JSON.stringify(o))}return A(t,e=>{window.dispatchEvent(new CustomEvent("velogrimpe:filters",{detail:JSON.parse(JSON.stringify(e))}))},{deep:!0}),{filters:t,hasActiveFilters:n,hasVilleSelected:s,setExposition:a,toggleExposition:u,setCotations:p,toggleCotation:r,setTypeVoie:c,setNbVoiesMin:v,setVilleId:f,setTrainTempsMax:x,setTrainCorrespMax:d,setTrainTerOnly:M,setVeloTempsMax:V,setVeloDistMax:m,setVeloDenivMax:T,setVeloApiedPossible:y,setApprocheTempsMax:h,setTotalTempsTV:b,setTotalTempsTVA:g,resetFilters:O}});export{C as u};
