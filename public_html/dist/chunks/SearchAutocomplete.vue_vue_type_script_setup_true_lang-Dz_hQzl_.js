import{_ as d}from"./Autocomplete.vue_vue_type_script_setup_true_lang-XJhyqp0n.js";import{_ as p}from"./Icon.vue_vue_type_script_setup_true_lang-C9j0lfjA.js";import{d as u,D as i,E as f,f as _,q as g,o as v,G as V,i as h}from"./runtime-dom.esm-bundler-DMen96Nq.js";const C=u({__name:"SearchAutocomplete",props:i({falaises:{},gares:{}},{modelValue:{default:""},modelModifiers:{}}),emits:i(["select"],["update:modelValue"]),setup(o,{emit:n}){const t=o,m=n,l=f(o,"modelValue"),r=_(()=>{const s=t.falaises.map(e=>({value:`${e.falaise_nom} (falaise)`,label:`${e.falaise_nom} (falaise)`,data:{id:e.falaise_id,type:"falaise",name:e.falaise_nom}})),a=t.gares.map(e=>({value:`${e.gare_nom} (gare)`,label:`${e.gare_nom} (gare)`,data:{id:e.gare_id,type:"gare",name:e.gare_nom}}));return[...s,...a]});function c(s){if(s.data){const a=s.data;m("select",a),window.dispatchEvent(new CustomEvent("velogrimpe:search-select",{detail:a}))}}return(s,a)=>(v(),g(d,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),options:r.value,placeholder:"falaise/gare",onSelect:c},{icon:V(()=>[h(p,{name:"search",class:"w-4 h-4"})]),_:1},8,["modelValue","options"]))}});export{C as _};
