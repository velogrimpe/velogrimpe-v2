import{k as c,r as d,N as s}from"./chunks/runtime-dom.esm-bundler-CJEmteaZ.js";import{_ as u}from"./chunks/FormAutocomplete.vue_vue_type_script_setup_true_lang-B4aF61n9.js";import"./chunks/Autocomplete.vue_vue_type_script_setup_true_lang-C7GwT-vT.js";document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("vue-falaise-selector");if(!t){console.warn("[velogrimpe] #vue-falaise-selector mount point not found");return}let l=[],n=null;try{l=JSON.parse(t.dataset.falaises||"[]"),n=t.dataset.currentId?parseInt(t.dataset.currentId,10):null}catch(a){console.error("[velogrimpe] Failed to parse falaises data:",a)}const o=l.find(a=>a.id===n),r=o?`${o.nom} (${o.id})`:"";c({setup(){const a=d(r),i=e=>{e&&e.id&&(window.location.href=`/ajout/contrib/details_falaise.php?falaise_id=${e.id}`)};return()=>s(u,{modelValue:a.value,"onUpdate:modelValue":e=>{a.value=e},items:l.map(e=>({id:e.id,nom:`${e.nom} (${e.id})`})),placeholder:"Rechercher une falaise...",acceptNewValue:!1,disabled:!1,onSelect:i},{icon:()=>s("svg",{class:"w-4 h-4 fill-none stroke-current shrink-0"},[s("use",{href:"#search"})])})}}).mount(t),console.log("[velogrimpe] Vue contrib-details-falaise selector mounted")});
