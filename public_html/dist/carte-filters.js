import{d as h,r as $,a as c,u as x,c as u,o as p,b as e,F as y,e as _,f as V,t as g,g as m,w as b,v as k,h as w,n as C,i as v,j as T,k as f,l as N,m as S,p as F}from"./chunks/filters-BoDCF4XO.js";const M=h("falaises",()=>{const r=$([]),i=$([]),a=$([]),t=$(!1);function n(o){r.value=o.falaises,i.value=o.gares,a.value=o.villes,t.value=!0}return{falaises:r,gares:i,villes:a,isInitialized:t,initialize:n}}),O={class:"flex flex-col gap-2"},E={class:"flex flex-row gap-1 items-center ml-4"},P={class:"max-w-96 grid grid-cols-[auto_auto] md:grid-cols-[auto] gap-x-2 md:gap-y-1"},A=["checked","onChange"],U={class:"label-text"},j={class:"text-xs text-slate-400"},D=c({__name:"ExpositionFilter",setup(r){const i=x(),a=[{id:"N",label:"Nord",hint:"(NO, N, NE)"},{id:"E",label:"Est",hint:"(NE, E, SE)"},{id:"S",label:"Sud",hint:"(SE, S, SO)"},{id:"O",label:"Ouest",hint:"(SO, O, NO)"}];function t(o){return i.filters.exposition.includes(o)}function n(o){i.toggleExposition(o)}return(o,l)=>(p(),u("div",O,[l[2]||(l[2]=e("div",null,"• Je veux une falaise exposée",-1)),e("div",E,[l[1]||(l[1]=e("div",{class:"h-20 flex items-center w-3"},[e("div",{class:"h-full bg-base-300 rounded-full w-1 relative"},[e("div",{class:"absolute top-1/2 -translate-x-1/2 -translate-y-1/2 left-1/2 bg-base-100 rounded-full w-6 h-6 border-2 border-base-300 flex items-center justify-center text-xs text-slate-600 font-bold"}," OU ")])],-1)),e("div",P,[(p(),u(y,null,_(a,s=>e("label",{key:s.id,class:"label cursor-pointer justify-start gap-x-2 py-0"},[e("input",{type:"checkbox",checked:t(s.id),class:"checkbox checkbox-primary checkbox-sm",onChange:d=>n(s.id)},null,40,A),e("span",U,[V(g(s.label)+" ",1),l[0]||(l[0]=e("br",{class:"md:hidden"},null,-1)),e("span",j,g(s.hint),1)])])),64))])])]))}}),H={class:"flex flex-col gap-2"},B={class:"label cursor-pointer gap-2 p-0 pr-1 w-full justify-start"},I=["value"],z=c({__name:"NbVoiesFilter",setup(r){const i=x(),a=[{value:0,label:"Pas de minimum"},{value:20,label:"Plus de 20"},{value:50,label:"Plus de 50"},{value:100,label:"Plus de 100"},{value:200,label:"Plus de 200"}],t=m({get:()=>i.filters.nbVoiesMin,set:n=>i.setNbVoiesMin(n)});return(n,o)=>(p(),u("div",H,[o[1]||(o[1]=e("div",null,"• Nombre de voies",-1)),e("div",null,[e("label",B,[b(e("select",{"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l),class:"select select-xs select-primary focus:outline-base-300"},[(p(),u(y,null,_(a,l=>e("option",{key:l.value,value:l.value},g(l.label),9,I)),64))],512),[[k,t.value,void 0,{number:!0}]])])])]))}}),J={class:"flex flex-col gap-2"},L={class:"flex flex-row md:flex-col gap-3 items-center md:justify-center md:items-start ml-4 md:w-fit"},G={class:"max-w-96 md:flex flex-row grid grid-cols-[auto_auto_auto_auto] gap-x-[10px] gap-y-2 md:justify-between md:w-full"},R=["checked","onChange"],Z={class:"label-text"},q=c({__name:"CotationFilter",setup(r){const i=x(),a=[{id:"40",label:"≤4"},{id:"50",label:"5-"},{id:"59",label:"5+"},{id:"60",label:"6-"},{id:"69",label:"6+"},{id:"70",label:"7-"},{id:"79",label:"7+"},{id:"80",label:"≥8"}];function t(o){return i.filters.cotations.includes(o)}function n(o){i.toggleCotation(o)}return(o,l)=>(p(),u("div",J,[l[1]||(l[1]=e("div",null,[V(" • Je veux des cotations dans le "),e("br"),e("span",{class:"italic text-base-300 text-sm"},"(5- = de 5a à 5b, 5+ = de 5b+ à 5c+)")],-1)),e("div",L,[l[0]||(l[0]=e("div",{class:"flex items-center h-16 md:h-full md:w-full w-3"},[e("div",{class:"h-full md:w-full bg-base-300 rounded-full md:h-1 w-1 relative"},[e("div",{class:"absolute top-1/2 -translate-x-1/2 -translate-y-1/2 left-1/2 bg-base-100 rounded-full w-6 h-6 border-2 border-base-300 flex items-center justify-center text-xs text-slate-600 font-bold"}," ET ")])],-1)),e("div",G,[(p(),u(y,null,_(a,s=>e("label",{key:s.id,class:"label cursor-pointer md:flex-col gap-y-2 w-12 md:w-4 py-0"},[e("input",{type:"checkbox",checked:t(s.id),class:"checkbox checkbox-primary checkbox-sm",onChange:d=>n(s.id)},null,40,R),e("span",Z,g(s.label),1)])),64))])])]))}}),K={class:"flex flex-col gap-2"},Q={class:"flex flex-row gap-1 items-center ml-4"},W={class:"max-w-96 grid grid-cols-[auto_auto] md:grid-cols-[auto] gap-x-2 gap-y-2 md:gap-y-1"},X=["checked","onChange"],Y={class:"label-text"},ee=c({__name:"TypeVoiesFilter",setup(r){const i=x(),a=[{id:"couenne",label:"Couenne"},{id:"grandeVoie",label:"Grande Voie"},{id:"bloc",label:"Bloc"},{id:"psychobloc",label:"Psychobloc"}];function t(o){return i.filters.typeVoies[o]}function n(o){i.setTypeVoie(o,!i.filters.typeVoies[o])}return(o,l)=>(p(),u("div",K,[l[1]||(l[1]=e("div",null,"• Pour faire :",-1)),e("div",Q,[l[0]||(l[0]=e("div",{class:"h-16 md:h-20 flex items-center w-3"},[e("div",{class:"h-full bg-base-300 rounded-full w-1 relative"},[e("div",{class:"absolute top-1/2 -translate-x-1/2 -translate-y-1/2 left-1/2 bg-base-100 rounded-full w-6 h-6 border-2 border-base-300 flex items-center justify-center text-xs text-slate-600 font-bold"}," OU ")])],-1)),e("div",W,[(p(),u(y,null,_(a,s=>e("label",{key:s.id,class:"label cursor-pointer justify-start gap-x-2 py-0"},[e("input",{type:"checkbox",checked:t(s.id),class:"checkbox checkbox-primary checkbox-sm",onChange:d=>n(s.id)},null,40,X),e("span",Y,g(s.label),1)])),64))])])]))}}),se={class:"flex flex-row gap-2"},le=["value"],te=c({__name:"VilleSelect",setup(r){const i=x(),a=M(),t=m({get:()=>i.filters.villeId??"-1",set:n=>{i.setVilleId(n==="-1"?null:n)}});return(n,o)=>(p(),u("div",se,[o[2]||(o[2]=e("div",{class:"font-bold"},"• Au départ de",-1)),b(e("select",{"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l),class:"select select-primary select-xs w-32"},[o[1]||(o[1]=e("option",{value:"-1"},"Choisir Ville",-1)),(p(!0),u(y,null,_(w(a).villes,l=>(p(),u("option",{key:l.ville_id,value:l.ville_id},g(l.ville_nom),9,le))),128))],512),[[k,t.value]])]))}}),oe={class:"flex flex-row gap-2 items-center"},ie=["disabled"],ne={class:"flex flex-row items-center gap-1 ml-2"},ae={class:"flex flex-row gap-2 items-center"},re={class:"label cursor-pointer gap-1"},de=["checked","disabled"],ue={class:"label cursor-pointer gap-1"},pe=["checked","disabled"],me={class:"label cursor-pointer gap-1"},be=["checked","disabled"],ce={class:"label cursor-pointer gap-2 ml-2 justify-start py-0"},xe=["disabled"],fe=c({__name:"TrainFilter",setup(r){const i=x(),a=m({get:()=>i.filters.train.tempsMax??"",set:l=>{i.setTrainTempsMax(l===""?null:Number(l))}}),t=m({get:()=>i.filters.train.correspMax,set:l=>i.setTrainCorrespMax(l)}),n=m({get:()=>i.filters.train.terOnly,set:l=>i.setTrainTerOnly(l)}),o=m(()=>!i.hasVilleSelected);return(l,s)=>(p(),u("div",{class:C(["flex flex-col gap-2",{"opacity-30":o.value}])},[e("div",oe,[s[5]||(s[5]=e("div",{class:"font-bold"},"• Train (T)",-1)),s[6]||(s[6]=e("div",{class:"text-normal font-bold"},"≤",-1)),b(e("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=d=>a.value=d),step:"1",min:"0",class:"input input-primary input-xs w-10",disabled:o.value},null,8,ie),[[v,a.value]]),s[7]||(s[7]=e("div",null,"minutes",-1))]),e("div",ne,[s[11]||(s[11]=e("div",null,"Nb. Corresp.",-1)),e("div",ae,[e("label",re,[e("input",{type:"radio",name:"nbCorrespMax",checked:t.value===0,class:"radio radio-primary radio-xs",disabled:o.value,onChange:s[1]||(s[1]=d=>t.value=0)},null,40,de),s[8]||(s[8]=e("span",{class:"label-text"},"0",-1))]),e("label",ue,[e("input",{type:"radio",name:"nbCorrespMax",checked:t.value===1,class:"radio radio-primary radio-xs",disabled:o.value,onChange:s[2]||(s[2]=d=>t.value=1)},null,40,pe),s[9]||(s[9]=e("span",{class:"label-text"},"≤1",-1))]),e("label",me,[e("input",{type:"radio",name:"nbCorrespMax",checked:t.value===null,class:"radio radio-primary radio-xs",disabled:o.value,onChange:s[3]||(s[3]=d=>t.value=null)},null,40,be),s[10]||(s[10]=e("span",{class:"label-text"},"Illimité",-1))])])]),e("label",ce,[b(e("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=d=>n.value=d),class:"checkbox checkbox-primary checkbox-sm",disabled:o.value},null,8,xe),[[T,n.value]]),s[12]||(s[12]=e("span",{class:"label-text"},"TER uniquement (pas de TGV)",-1))])],2))}}),ve={class:"flex flex-col gap-2"},ge={class:"flex flex-row gap-2 items-center"},ye={class:"flex flex-row gap-2 items-center ml-2"},_e={class:"flex flex-row gap-2 items-center ml-2"},$e={class:"label cursor-pointer gap-2 ml-2 justify-start py-0"},we=c({__name:"VeloFilter",setup(r){const i=x(),a=m({get:()=>i.filters.velo.tempsMax??"",set:l=>{i.setVeloTempsMax(l===""?null:Number(l))}}),t=m({get:()=>i.filters.velo.distMax??"",set:l=>{i.setVeloDistMax(l===""?null:Number(l))}}),n=m({get:()=>i.filters.velo.denivMax??"",set:l=>{i.setVeloDenivMax(l===""?null:Number(l))}}),o=m({get:()=>i.filters.velo.apiedPossible,set:l=>i.setVeloApiedPossible(l)});return(l,s)=>(p(),u("div",ve,[e("div",ge,[s[4]||(s[4]=e("div",{class:"font-bold"},"• Vélo (V)",-1)),s[5]||(s[5]=e("div",{class:"text-normal font-bold"},"≤",-1)),b(e("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=d=>a.value=d),step:"1",min:"0",class:"input input-primary input-xs w-10"},null,512),[[v,a.value]]),s[6]||(s[6]=e("div",null,"min.",-1))]),e("div",ye,[s[7]||(s[7]=e("div",null,"Distance",-1)),s[8]||(s[8]=e("div",{class:"text-normal font-bold"},"≤",-1)),b(e("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=d=>t.value=d),step:"1",min:"0",class:"input input-primary input-xs w-10"},null,512),[[v,t.value]]),s[9]||(s[9]=e("div",null,"km",-1))]),e("div",_e,[s[10]||(s[10]=e("div",null,"Dénivelé",-1)),s[11]||(s[11]=e("div",{class:"text-normal font-bold"},"≤",-1)),b(e("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=d=>n.value=d),step:"1",min:"0",class:"input input-primary input-xs w-10"},null,512),[[v,n.value]]),s[12]||(s[12]=e("div",null,"m D+",-1))]),e("label",$e,[b(e("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=d=>o.value=d),class:"checkbox checkbox-primary checkbox-sm"},null,512),[[T,o.value]]),s[13]||(s[13]=e("span",{class:"label-text"},"Accessible à pied",-1))])]))}}),Ve={class:"flex flex-row gap-2 items-center"},ke=c({__name:"ApprocheFilter",setup(r){const i=x(),a=m({get:()=>i.filters.approche.tempsMax??"",set:t=>{i.setApprocheTempsMax(t===""?null:Number(t))}});return(t,n)=>(p(),u("div",Ve,[n[1]||(n[1]=e("div",{class:"font-bold"},"• Marche d'approche (A)",-1)),n[2]||(n[2]=e("div",{class:"text-normal font-bold"},"≤",-1)),b(e("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=o=>a.value=o),step:"1",min:"0",class:"input input-primary input-xs w-10"},null,512),[[v,a.value]]),n[3]||(n[3]=e("div",null,"min.",-1))]))}}),Ce={class:"flex flex-row gap-2 items-center"},Te=["disabled"],Me={class:"flex flex-row gap-2 items-center"},he=["disabled"],Ne=c({__name:"TotalFilter",setup(r){const i=x(),a=m({get:()=>i.filters.total.tempsTV??"",set:o=>{i.setTotalTempsTV(o===""?null:Number(o))}}),t=m({get:()=>i.filters.total.tempsTVA??"",set:o=>{i.setTotalTempsTVA(o===""?null:Number(o))}}),n=m(()=>!i.hasVilleSelected);return(o,l)=>(p(),u("div",{class:C(["flex flex-col gap-2",{"opacity-30":n.value}])},[e("div",Ce,[l[2]||(l[2]=e("div",{class:"font-bold"},"• Total T+V",-1)),l[3]||(l[3]=e("div",{class:"text-normal font-bold"},"≤",-1)),b(e("input",{type:"number","onUpdate:modelValue":l[0]||(l[0]=s=>a.value=s),step:"1",min:"0",class:"input input-primary input-xs w-10",disabled:n.value},null,8,Te),[[v,a.value]]),l[4]||(l[4]=e("div",null,"min.",-1))]),e("div",Me,[l[5]||(l[5]=e("div",{class:"font-bold"},"• Total T+V+A",-1)),l[6]||(l[6]=e("div",{class:"text-normal font-bold"},"≤",-1)),b(e("input",{type:"number","onUpdate:modelValue":l[1]||(l[1]=s=>t.value=s),step:"1",min:"0",class:"input input-primary input-xs w-10",disabled:n.value},null,8,he),[[v,t.value]]),l[7]||(l[7]=e("div",null,"min.",-1))])],2))}}),Se={class:"flex flex-col gap-2"},Fe={class:"flex flex-col gap-2"},Oe={class:"flex flex-col gap-2"},Ee={class:"flex flex-col gap-2"},Pe={class:"mt-2"},Ae=["disabled"],Ue=c({__name:"FilterPanel",setup(r){const i=x();return(a,t)=>(p(),u("form",{class:"flex flex-col gap-2 text-sm",onSubmit:t[1]||(t[1]=N(()=>{},["prevent"]))},[e("div",Se,[t[2]||(t[2]=e("div",null,[e("b",{class:"text-primary text-base"},"Falaise")],-1)),e("div",Fe,[f(D),f(z),f(q),f(ee)])]),t[6]||(t[6]=e("hr",{class:"border-t border-base-300 my-1"},null,-1)),e("div",Oe,[t[3]||(t[3]=e("div",{class:"md:mt-2 flex flex-row gap-1"},[e("div",null,[e("b",{class:"text-primary text-base"},"Accès")])],-1)),f(te),f(fe),f(we),f(ke)]),t[7]||(t[7]=e("hr",{class:"border-t border-base-300 my-1"},null,-1)),e("div",Ee,[t[4]||(t[4]=e("div",null,[e("b",{class:"text-primary text-base"},"Temps total")],-1)),f(Ne)]),e("div",Pe,[e("button",{type:"button",class:"btn btn-sm btn-outline btn-primary w-full",disabled:!w(i).hasActiveFilters,onClick:t[0]||(t[0]=n=>w(i).resetFilters())},[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 4C14.7486 4 17.1749 5.38626 18.6156 7.5H16V9.5H22V3.5H20V5.99936C18.1762 3.57166 15.2724 2 12 2C6.47715 2 2 6.47715 2 12H4C4 7.58172 7.58172 4 12 4ZM20 12C20 16.4183 16.4183 20 12 20C9.25144 20 6.82508 18.6137 5.38443 16.5H8V14.5H2V20.5H4V18.0006C5.82381 20.4283 8.72764 22 12 22C17.5228 22 22 17.5228 22 12H20Z"})],-1),V(" Réinitialiser les filtres ",-1)])],8,Ae)])],32))}});document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("vue-filters");if(!r){console.warn("[velogrimpe] #vue-filters mount point not found");return}const i=S(Ue),a=F();i.use(a);try{const t=JSON.parse(r.dataset.falaises||"[]"),n=JSON.parse(r.dataset.gares||"[]"),o=JSON.parse(r.dataset.villes||"[]");M(a).initialize({falaises:t,gares:n,villes:o}),console.log(`[velogrimpe] Initialized with ${t.length} falaises, ${n.length} gares, ${o.length} villes`)}catch(t){console.error("[velogrimpe] Failed to parse data from PHP:",t)}i.mount(r),console.log("[velogrimpe] Vue filters app mounted")});
